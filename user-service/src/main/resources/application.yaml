smallrye:
  jwt:
    verify:
      key:
        location: auth/publicKey.pem
#    sign:
#      key:
#        location: auth/privateKey.pem

mp:
  jwt:
    token:
      header: Cookie
      cookie: 'access_token'

# configure production datasource
"%prod":
  quarkus:
    datasource:
      db-kind: postgresql
      #username: one-stop
      #password: password
      jdbc:
        url: jdbc:postgresql://db:5432/one-stop

quarkus:
  http:
    # sets the same-site property on generated cookies
    same-site-cookie:
      access_token:
        value: Strict
      refresh_token:
        value: Strict

  native:
    # defines which resources are included in native image
    resources:
      includes: auth/**

  flyway:
    migrate-at-start: true
    schemas: users

  hibernate-orm:
    database:
      default-schema: users

  log:
    level: INFO
    console:
      format: "%d{yyyy-MM-dd HH:mm:ss,S} %-5p %X{correlationId} - [%c{3.}] (%t) %s%e%n"
    category:
      "com.hillayes":
        level: DEBUG

one-stop:
  jwt:
    access-token:
      duration-secs: 300
    refresh-token:
      cookie: 'refresh_token'
      duration-secs: 1800
  jwk:
    set-size: 2
