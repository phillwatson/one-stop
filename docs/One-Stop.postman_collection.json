{
	"info": {
		"_postman_id": "bc9d310e-6ad5-4de6-a14f-50c58ab46036",
		"name": "One-Stop",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "3794632"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Get My IP",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"hostname\", responseBody.trim());"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://checkip.amazonaws.com/",
							"protocol": "http",
							"host": [
								"checkip",
								"amazonaws",
								"com"
							],
							"path": [
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Login - admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/auth/login",
							"protocol": "{{scheme}}",
							"host": [
								"{{hostname}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login - snoopy",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"snoopy\",\n    \"password\": \"password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/auth/login",
							"protocol": "{{scheme}}",
							"host": [
								"{{hostname}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login via OpenID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/auth/login/:authProvider?state=123",
							"protocol": "{{scheme}}",
							"host": [
								"{{hostname}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"v1",
								"auth",
								"login",
								":authProvider"
							],
							"query": [
								{
									"key": "state",
									"value": "123"
								}
							],
							"variable": [
								{
									"key": "authProvider",
									"value": "google"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Login - failure",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"unknown\",\n    \"password\": \"password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/auth/login",
							"protocol": "{{scheme}}",
							"host": [
								"{{hostname}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Refresh tokens",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/auth/refresh",
							"protocol": "{{scheme}}",
							"host": [
								"{{hostname}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"v1",
								"auth",
								"refresh"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/auth/logout",
							"protocol": "{{scheme}}",
							"host": [
								"{{hostname}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"v1",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login OAuth",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:3000/api/v1/auth/validate?code=4%2F0AVHEtk79OVCNB6SCz3HHz2S-E-0RTXHeBujPJFw41vdn4rpmlM7UHkCXqtwQQmACMefZuQ&scope=email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"v1",
								"auth",
								"validate"
							],
							"query": [
								{
									"key": "code",
									"value": "4%2F0AVHEtk79OVCNB6SCz3HHz2S-E-0RTXHeBujPJFw41vdn4rpmlM7UHkCXqtwQQmACMefZuQ"
								},
								{
									"key": "scope",
									"value": "email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"
								},
								{
									"key": "authuser",
									"value": "0"
								},
								{
									"key": "prompt",
									"value": "consent"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Admin",
					"item": [
						{
							"name": "List Users",
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/users",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/users/:userId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"users",
										":userId"
									],
									"variable": [
										{
											"key": "userId",
											"value": "9abc5177-421d-4913-a1e4-b5f69ca1ae93"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update User",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\": \"phillw\",\n    \"title\": \"Mr\",\n    \"givenName\": \"Phillip\",\n    \"familyName\": \"Watson\",\n    \"preferredName\": \"Phill\",\n    \"email\": \"watson.phill+user@gmail.com\",\n    \"phone\": \"07801 494949\",\n    \"roles\": [\n        \"user\"\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/users/:userId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"users",
										":userId"
									],
									"variable": [
										{
											"key": "userId",
											"value": "9abc5177-421d-4913-a1e4-b5f69ca1ae93"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete User",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/users/:userId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"users",
										":userId"
									],
									"variable": [
										{
											"key": "userId",
											"value": "9abc5177-421d-4913-a1e4-b5f69ca1ae93"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Profile",
					"item": [
						{
							"name": "Get Profile",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/profiles",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"profiles"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Auth Providers",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/profiles/authproviders",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"profiles",
										"authproviders"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update Profile",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\": \"admin\",\n    \"givenName\": \"Phillip\",\n    \"familyName\": \"Watson\",\n    \"preferredName\": \"Phill\",\n    \"email\": \"watson.phill+admin@gmail.com\",\n    \"phone\": \"07801 494949\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/profiles",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"profiles"
									]
								}
							},
							"response": []
						},
						{
							"name": "Change Password",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"oldPassword\": \"password\",\n    \"newPassword\": \"snoopy\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/profiles/password",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"profiles",
										"password"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Onboarding",
					"item": [
						{
							"name": "Register",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"watson.phill+one@gmail.com\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/users/onboard/register",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"users",
										"onboard",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "Acknowledge Token",
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/users/onboard/acknowledge/9c7645d7-339f-4172-9cb4-895239d783b6",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"users",
										"onboard",
										"acknowledge",
										"9c7645d7-339f-4172-9cb4-895239d783b6"
									]
								}
							},
							"response": []
						},
						{
							"name": "Complete Onboarding",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\": \"phill3\",\n    \"title\": \"Mr\",\n    \"givenName\": \"Phillip\",\n    \"familyName\": \"Watson\",\n    \"preferredName\": \"Phill\",\n    \"email\": \"watson.phill@gmail.com\",\n    \"phone\": \"07801 494949\",\n    \"password\": \"password\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/users/onboard/complete",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"users",
										"onboard",
										"complete"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Notifications",
			"item": [
				{
					"name": "Get Notifications",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/notifications?after={{today}}T00:00:00Z",
							"protocol": "{{scheme}}",
							"host": [
								"{{hostname}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"v1",
								"notifications"
							],
							"query": [
								{
									"key": "after",
									"value": "{{today}}T00:00:00Z"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Rails",
			"item": [
				{
					"name": "Accounts",
					"item": [
						{
							"name": "Get Accounts",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/accounts",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"accounts"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Account",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/accounts/:accountId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"accounts",
										":accountId"
									],
									"variable": [
										{
											"key": "accountId",
											"value": "65f51527-ac99-4d13-9816-4fa1953881e8"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Transactions by Account",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/transactions?account-id=9edbb8be-0b66-4e88-8499-bfb7cd088e0b&page=0&page-size=25&reference=SAINSBURYS",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"transactions"
									],
									"query": [
										{
											"key": "account-id",
											"value": "9edbb8be-0b66-4e88-8499-bfb7cd088e0b"
										},
										{
											"key": "page",
											"value": "0"
										},
										{
											"key": "page-size",
											"value": "25"
										},
										{
											"key": "reference",
											"value": "SAINSBURYS"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Transactions By User",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/transactions?page=0&page-size=25",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"transactions"
									],
									"query": [
										{
											"key": "page",
											"value": "0"
										},
										{
											"key": "page-size",
											"value": "25"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Categories",
					"item": [
						{
							"name": "Get Categories",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/categories?page=0&page-size=25",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"categories"
									],
									"query": [
										{
											"key": "page",
											"value": "0"
										},
										{
											"key": "page-size",
											"value": "25"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Category Statistics",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/categories/statistics?from-date={{todayMinus20}}&to-date={{today}}",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"categories",
										"statistics"
									],
									"query": [
										{
											"key": "from-date",
											"value": "{{todayMinus20}}"
										},
										{
											"key": "to-date",
											"value": "{{today}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Category",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Groceries\",\n    \"description\": \"Household Groceries\",\n    \"colour\": \"#002721\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/categories",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"categories"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update Category",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Groceries\",\n    \"description\": \"Household Groceries\",\n    \"colour\": \"#002721\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/categories/:categoryId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"categories",
										":categoryId"
									],
									"variable": [
										{
											"key": "categoryId",
											"value": "9dd57172-974d-42fd-92ec-038a7eb69780"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Category",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/categories/:categoryId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"categories",
										":categoryId"
									],
									"variable": [
										{
											"key": "categoryId",
											"value": ""
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Category Selectors",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/categories/:categoryId/selectors/:accountId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"categories",
										":categoryId",
										"selectors",
										":accountId"
									],
									"variable": [
										{
											"key": "categoryId",
											"value": "9dd57172-974d-42fd-92ec-038a7eb69780"
										},
										{
											"key": "accountId",
											"value": "9edbb8be-0b66-4e88-8499-bfb7cd088e0b"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Set Category Selectors",
							"request": {
								"method": "PUT",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/categories/:categoryId/selectors/:accountId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"categories",
										":categoryId",
										"selectors",
										":accountId"
									],
									"variable": [
										{
											"key": "categoryId",
											"value": "9dd57172-974d-42fd-92ec-038a7eb69780"
										},
										{
											"key": "accountId",
											"value": "9edbb8be-0b66-4e88-8499-bfb7cd088e0b"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Countries",
					"item": [
						{
							"name": "List Countries",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/countries",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"countries"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Country",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/countries/:countryCode",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"countries",
										":countryCode"
									],
									"variable": [
										{
											"key": "countryCode",
											"value": "GB"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Country Logo",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "image/png",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/countries/:countryCode/logos",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"countries",
										":countryCode",
										"logos"
									],
									"variable": [
										{
											"key": "countryCode",
											"value": "GB"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Institutions",
					"item": [
						{
							"name": "Get Institution Details",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/institutions/:institutionId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"institutions",
										":institutionId"
									],
									"variable": [
										{
											"key": "institutionId",
											"value": "SANDBOXFINANCE_SFIN0000"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "List Institutions",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/institutions?rail=YAPILY&country=GB&page=0&page-size=10",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"institutions"
									],
									"query": [
										{
											"key": "rail",
											"value": "YAPILY"
										},
										{
											"key": "country",
											"value": "GB"
										},
										{
											"key": "page",
											"value": "0"
										},
										{
											"key": "page-size",
											"value": "10"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Consents",
					"item": [
						{
							"name": "Get Consents",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/consents?page=0&page-size=20",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"consents"
									],
									"query": [
										{
											"key": "page",
											"value": "0",
											"description": "zero-based page index"
										},
										{
											"key": "page-size",
											"value": "20",
											"description": "max entities per page"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Consents by  Institution",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/consents/:institutionId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"consents",
										":institutionId"
									],
									"variable": [
										{
											"key": "institutionId",
											"value": "SANDBOXFINANCE_SFIN0000"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Register Bank",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"callbackUri\": \"http://localhost:80/accounts\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/consents/:institutionId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"consents",
										":institutionId"
									],
									"variable": [
										{
											"key": "institutionId",
											"value": "SANDBOXFINANCE_SFIN0000"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Consents",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/consents/:institutionId",
									"protocol": "{{scheme}}",
									"host": [
										"{{hostname}}"
									],
									"port": "{{port}}",
									"path": [
										"api",
										"v1",
										"rails",
										"consents",
										":institutionId"
									],
									"variable": [
										{
											"key": "institutionId",
											"value": "SANDBOXFINANCE_SFIN0000"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Admin",
					"item": [
						{
							"name": "Consents",
							"item": [
								{
									"name": "Get Consents by  User ID",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/admin/consents/:userId?page=0&page-size=20",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"admin",
												"consents",
												":userId"
											],
											"query": [
												{
													"key": "page",
													"value": "0",
													"description": "zero-based page index"
												},
												{
													"key": "page-size",
													"value": "20",
													"description": "max entities per page"
												}
											],
											"variable": [
												{
													"key": "userId",
													"value": "{{user-id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Consent",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/admin/consents/:consentId",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"admin",
												"consents",
												":consentId"
											],
											"variable": [
												{
													"key": "consentId",
													"value": "{{consent-id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Consent",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/admin/consents/:consentId",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"admin",
												"consents",
												":consentId"
											],
											"variable": [
												{
													"key": "consentId",
													"value": "{{consent-id}}"
												}
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "Nordigen Admin",
					"item": [
						{
							"name": "Requisitions",
							"item": [
								{
									"name": "List Requisitions",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/requisitions?limit=10000&offset=0",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"requisitions"
											],
											"query": [
												{
													"key": "limit",
													"value": "10000"
												},
												{
													"key": "offset",
													"value": "0"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Requisition",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/requisitions/:requisitionId",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"requisitions",
												":requisitionId"
											],
											"variable": [
												{
													"key": "requisitionId",
													"value": "bab398d5-155a-44b6-b88d-a1475d53aae5"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Requisition",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/requisitions/:requisitionId",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"requisitions",
												":requisitionId"
											],
											"variable": [
												{
													"key": "requisitionId",
													"value": "bab398d5-155a-44b6-b88d-a1475d53aae5"
												}
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Agreements",
							"item": [
								{
									"name": "List Agreements",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/agreements?limit=10000&offset=0",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"agreements"
											],
											"query": [
												{
													"key": "limit",
													"value": "10000"
												},
												{
													"key": "offset",
													"value": "0"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Agreement",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/agreements/:agreementId",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"agreements",
												":agreementId"
											],
											"variable": [
												{
													"key": "agreementId",
													"value": "c41b32d9-bdc5-44af-a7fb-2a9cf02271ab"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete Agreement",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/agreements/:agreementId",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"agreements",
												":agreementId"
											],
											"variable": [
												{
													"key": "agreementId",
													"value": "894d93cd-7350-4d0c-ba2e-5dbead69714c"
												}
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Rail Accounts",
							"item": [
								{
									"name": "Get Account",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/accounts/:railAccountId",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"accounts",
												":railAccountId"
											],
											"variable": [
												{
													"key": "railAccountId",
													"value": "d6b4ff42-8969-4089-8243-7dbd3d9be4dd"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Account Balances",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/accounts/:railAccountId/balances",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"accounts",
												":railAccountId",
												"balances"
											],
											"variable": [
												{
													"key": "railAccountId",
													"value": "a184cf1a-06ae-4b34-938d-6befc00de89c"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Account Details",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/accounts/:railAccountId/details",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"accounts",
												":railAccountId",
												"details"
											],
											"variable": [
												{
													"key": "railAccountId",
													"value": "629fe84d-9e6c-4709-97ec-cc3dd4470972"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Account Transactions",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/nordigen/accounts/:railAccountId/transactions?date_from=2024-06-01&date_to=2024-06-10",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"nordigen",
												"accounts",
												":railAccountId",
												"transactions"
											],
											"query": [
												{
													"key": "date_from",
													"value": "2024-06-01"
												},
												{
													"key": "date_to",
													"value": "2024-06-10"
												}
											],
											"variable": [
												{
													"key": "railAccountId",
													"value": "d6b4ff42-8969-4089-8243-7dbd3d9be4dd"
												}
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "yapily",
					"item": [
						{
							"name": "Institutions",
							"item": [
								{
									"name": "Get Institution Details",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/institutions/:institutionId",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"institutions",
												":institutionId"
											],
											"variable": [
												{
													"key": "institutionId",
													"value": "modelo-sandbox"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "List Institutions",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{scheme}}://{{hostname}}:{{port}}/api/v1/rails/yapily/institutions?country=GB&page=0&page-size=10",
											"protocol": "{{scheme}}",
											"host": [
												"{{hostname}}"
											],
											"port": "{{port}}",
											"path": [
												"api",
												"v1",
												"rails",
												"yapily",
												"institutions"
											],
											"query": [
												{
													"key": "country",
													"value": "GB"
												},
												{
													"key": "page",
													"value": "0"
												},
												{
													"key": "page-size",
													"value": "10"
												}
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Management",
			"item": [
				{
					"name": "Beans",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8082/beans",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"beans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Stop",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8082/stop",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"stop"
							]
						}
					},
					"response": []
				},
				{
					"name": "Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:9002/q/health",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "9002",
							"path": [
								"q",
								"health"
							]
						}
					},
					"response": []
				},
				{
					"name": "info",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:9002/q/info",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "9002",
							"path": [
								"q",
								"info"
							]
						}
					},
					"response": []
				},
				{
					"name": "Loggers",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:9002/loggers",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "9002",
							"path": [
								"loggers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Metrics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:9002/q/metrics",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "9002",
							"path": [
								"q",
								"metrics"
							]
						}
					},
					"response": []
				},
				{
					"name": "Refresh",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8082/refresh",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"refresh"
							]
						}
					},
					"response": []
				},
				{
					"name": "Routes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:9002/q/routes",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "9002",
							"path": [
								"q",
								"routes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Token Info",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8082/token_info",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"token_info"
							]
						}
					},
					"response": []
				},
				{
					"name": "Env",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8082/env",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"env"
							]
						}
					},
					"response": []
				},
				{
					"name": "Thread Dump",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8082/threaddump",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"threaddump"
							]
						}
					},
					"response": []
				},
				{
					"name": "Caches",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8082/caches",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"caches"
							]
						}
					},
					"response": []
				},
				{
					"name": "Flyway",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8082/flyway",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"flyway"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// add XSRF token to ALL requests",
					"pm.request.headers.add(\"X-XSRF-TOKEN: \" + ",
					"        pm.collectionVariables.get(\"X-XSRF-TOKEN\"));",
					"",
					"var date = new Date();",
					"pm.collectionVariables.set(\"today\", date.toISOString().split('T')[0]);",
					"",
					"date.setDate(date.getDate() - 20)",
					"pm.collectionVariables.set(\"todayMinus20\", date.toISOString().split('T')[0]);",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// record the XSRF token - to later add to subsequent request headers",
					"var cookie = postman.getResponseCookie(\"XSRF-TOKEN\");",
					"pm.collectionVariables.set(\"X-XSRF-TOKEN\", (cookie == null) ? null : cookie.value);"
				]
			}
		}
	],
	"variable": [
		{
			"key": "scheme",
			"value": "http"
		},
		{
			"key": "hostname",
			"value": "localhost"
		},
		{
			"key": "port",
			"value": "80"
		},
		{
			"key": "X-XSRF-TOKEN",
			"value": ""
		},
		{
			"key": "todayMinus20",
			"value": "",
			"type": "string"
		},
		{
			"key": "today",
			"value": "",
			"type": "string"
		}
	]
}